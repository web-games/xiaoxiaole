!function(t){var e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="./",o(o.s=11)}([function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=puremvc.Proxy,u=r(o(3)),s=function(t){function e(){var o=t.call(this,e.NAME)||this;return o.map=null,o.swapFruitStack=[],o.score=0,o.map=new u.default(o),o}return i(e,t),e.prototype.addSwapFruit=function(t){if(this.swapFruitStack.push(t),this.swapFruitStack.length>=2){var o=this.swapFruitStack[this.swapFruitStack.length-2],n=this.swapFruitStack[this.swapFruitStack.length-1];for(this.check4direction(o.row,o.col,n.row,n.col)?(this.map.swap(o.row,o.col,n.row,n.col),this.sendNotification(e.SWAP_FRUIT,[o,n],"success")):this.sendNotification(e.SWAP_FRUIT,[o,n],"fail");this.swapFruitStack.length;)this.swapFruitStack.shift()}},e.prototype.check4direction=function(t,e,o,n){return Math.abs(e-n)<=1&&t===o||Math.abs(t-o)<=1&&e===n},e.NAME="game_proxy",e.CHANGE_SCORE="change_score",e.ADD_FRUIT="add_fruit",e.DELETE_FRUIT="delete_fruit",e.DROP_FRUIT="drop_fruit",e.SWAP_FRUIT="swap_fruit",e}(a);e.default=s},function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=puremvc.SimpleCommand,u=r(o(5)),s=r(o(6)),c=r(o(8)),f=r(o(0)),l=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.execute=function(t){console.log("SceneCommand notification:",t);var o=this.facade.game,n=t.getName(),i=t.getBody().from;switch(i&&((i=i).destroy(),i.parent&&i.parent.removeChild(i)),n){case e.TO_LOADING:var r=this.facade.retrieveMediator(u.default.NAME).loadingScene;o.stage.addChild(r),r.init();break;case e.TO_START:var a=this.facade.retrieveMediator(s.default.NAME).startScene;o.stage.addChild(a),a.init();break;case e.TO_GAME:var l=this.facade.retrieveMediator(c.default.NAME).gameScene;o.stage.addChild(l),l.init(this.facade.retrieveProxy(f.default.NAME).map)}},e.TO_LOADING="to_loading",e.TO_START="to_start",e.TO_GAME="to_game",e}(a);e.default=l},function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(e){var o=t.call(this)||this;return o.game=null,o.stageWidth=0,o.stageHeight=0,o.game=e,o.stageWidth=e.stageWidth,o.stageHeight=e.stageHeight,o}return i(e,t),e.prototype.init=function(t){},e.prototype.destroy=function(){},e.prototype.removeAllChildren=function(t,e,o){void 0===o&&(o=1);var n=t.children;if(n&&n.length>0)for(var i=n.length-1;i>=0;i--){var r=n[i];console.log(o,i,r.name),this.removeAllChildren(r,o+1),r.parent&&r.parent.removeChild(r)}e&&t.parent&&t.parent.removeChild(t)},e}(PIXI.Container);e.default=r},function(t,e,o){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(o(0)),r=function(){function t(t){this.rows=10,this.cols=5,this.data=[[2,4,2,4,2],[4,5,4,5,4],[4,5,5,5,4],[3,4,5,4,3],[1,1,4,1,1],[6,3,6,3,6],[3,7,3,7,3],[3,7,7,7,3],[2,3,7,3,2],[8,8,3,8,8]],this.proxy=null,this.proxy=t}return t.prototype.swap=function(t,e,o,n){var i=this,r=this.data[t][e];this.data[t][e]=this.data[o][n],this.data[o][n]=r,setTimeout(function(){i.check()},300)},t.prototype.check=function(){var e=this,o=this.horizontalCheck().concat(this.verticalCheck()).filter(function(t){return t});if(console.log(o),o.length)o.forEach(function(t){var o=t[0],n=t[1];e.data[o][n]=null}),this.proxy.sendNotification(i.default.DELETE_FRUIT,o),setTimeout(function(){for(var t={},o=0;o<e.cols;o++){t[o]=[];for(var n,r=function(){if(null===e.data[a][o])for(var i=a;i--;)null!==e.data[i][o]&&((n=t[o].find(function(t){return t.row===i&&t.col===o}))||(n={row:i,col:o,drop:0},t[o].push(n)),n.drop++)},a=0;a<e.rows;a++)r();t[o].sort(function(t,e){return e.row-t.row})}for(var u in t)t[u].forEach(function(t){var o=t.row,n=t.col,i=t.drop,r=e.data[o][n];e.data[o][n]=null,e.data[o+i][n]=r});console.log(e.data),e.proxy.sendNotification(i.default.DROP_FRUIT,t),setTimeout(function(){e.check()},300)},1e3);else{for(var n=[],r=0;r<this.cols;r++)for(var a=0;a<this.rows;a++)null===this.data[a][r]&&(this.data[a][r]=this.getAnimalIndex(),n.push({row:a,col:r,value:this.data[a][r],animate:{from:{x:this.cols*t.GridWidth/2,y:0},to:{x:r*t.GridWidth+t.GridWidth/2,y:a*t.GridHeight+t.GridHeight/2}}}));n.length&&(this.proxy.sendNotification(i.default.ADD_FRUIT,n),this.check())}},t.prototype.horizontalCheck=function(){for(var t=[],e=0;e<this.rows;e++)for(var o=1,n=0;n<this.cols;n++){var r=this.data[e][n],a=this.data[e][n+1];if(null!=r||null!==a)if(r===a)o++;else{if(o>=3){this.proxy.score+=o,this.proxy.sendNotification(i.default.CHANGE_SCORE,this.proxy.score);for(var u=o,s="";u;){var c=e,f=n-(u-1);t.push([c,f]),s+="("+c+","+f+")",u--}console.log("横向：连续"+o+"个相同"+s+",值为"+r)}o=1}}return t},t.prototype.verticalCheck=function(){for(var t=[],e=0;e<this.cols;e++)for(var o=1,n=0;n<this.rows;n++){var r=this.data[n][e],a=this.data[n+1]&&this.data[n+1][e]||null;if(null!=r||null!==a)if(r===a)o++;else{if(o>=3){this.proxy.score+=o,this.proxy.sendNotification(i.default.CHANGE_SCORE,this.proxy.score);for(var u=o,s="";u;){var c=n-(u-1),f=e;t.push([c,f]),s+="("+c+","+f+")",u--}console.log("纵向：连续"+o+"个相同"+s+",值为"+r)}o=1}}return t},t.prototype.getAnimalIndex=function(){return parseInt(String(8*Math.random()))+1},t.GridWidth=80,t.GridHeight=80,t}();e.default=r},function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(o){var n=t.call(this,o)||this;return e.NAME="game"+e.NUM++,n.view.style.width="100%",document.body.appendChild(n.view),n}return i(e,t),Object.defineProperty(e.prototype,"stageWidth",{get:function(){return this.screen.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stageHeight",{get:function(){return this.screen.height},enumerable:!0,configurable:!0}),e.NAME="game",e.NUM=0,e}(PIXI.Application);e.default=r},function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=puremvc.Mediator,u=r(o(1)),s=function(t){function e(o){var n=t.call(this,e.NAME,o)||this;return n.loadingScene.on("init_complete",n.initComplete,n),n}return i(e,t),e.prototype.initComplete=function(){var t=this,e=new PIXI.Loader;e.add(["./resources/images/main_background.jpg","./resources/images/animal1.png","./resources/images/animal2.png","./resources/images/animal3.png","./resources/images/animal4.png","./resources/images/animal5.png","./resources/images/animal6.png","./resources/images/animal7.png","./resources/images/animal8.png"]),e.once("complete",function(){setTimeout(function(){t.sendNotification(u.default.TO_GAME,{from:t.loadingScene})},500)}),e.on("progress",function(t){console.log("加载百分比"+t.progress+"%")}),e.load()},Object.defineProperty(e.prototype,"loadingScene",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),e.NAME="loading_scene_mediator",e}(a);e.default=s},function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=puremvc.Mediator,u=r(o(7)),s=r(o(1)),c=function(t){function e(o){var n=t.call(this,e.NAME,o)||this;return n.startScene.on(u.default.CLICK_START,function(){n.sendNotification(s.default.TO_GAME,{from:n.startScene})}),n}return i(e,t),e.prototype.listNotificationInterests=function(){return[]},e.prototype.handleNotification=function(t){t.getName()},Object.defineProperty(e.prototype,"startScene",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),e.NAME="start_scene_mediator",e}(a);e.default=c},function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.init=function(){var t,e,o,n,i,r=this;t=new PIXI.Container,this.addChild(t),i=new PIXI.Text("Text1",{fill:"#FFFFFF"}),t.addChild(i),i.x=this.stageWidth/2,i.y=this.stageHeight,i.anchor.x=.5,i.anchor.y=1,i.alpha=0,window.TweenMax.to(i,1,{alpha:1,ease:window.Strong.easeOut,delay:1}),window.TweenMax.to(i.position,1,{y:this.stageHeight-760,ease:window.Elastic.easeOut,delay:.8}),i.name="txt1",i.rotation=-.05,window.TweenMax.to(i,.1,{rotation:.1,ease:window.Linear.easeNone,repeat:-1,yoyo:!0,delay:1.2}),(e=PIXI.Sprite.from("pic4.jpg")).position.x=0,e.position.y=100,t.addChild(e),e.alpha=0,window.TweenMax.to(e,.6,{alpha:1}),(o=PIXI.Sprite.from("pic5.png")).anchor.x=.5,o.anchor.y=.5,o.position.x=this.stageWidth/2,o.position.y=this.stageHeight/2,t.addChild(o),o.scale.x=o.scale.y=0,window.TweenMax.to(o.scale,1,{x:1,y:1,ease:window.Elastic.easeOut,delay:.8}),(n=PIXI.Sprite.from("btn2.jpg")).anchor.x=.5,n.anchor.y=.5,n.position.x=this.stageWidth/2,n.position.y=o.position.y+240,t.addChild(n),n.scale.x=n.scale.y=0,window.TweenMax.to(n.scale,1,{x:1,y:1,ease:window.Elastic.easeOut,delay:.9}),n.interactive=!0,n.mousedown=n.touchstart=function(){r.sceneOut()}},e.prototype.sceneOut=function(){var t=this;window.TweenMax.to(this,.4,{alpha:0,onComplete:function(){t.emit(e.CLICK_START)}})},e.NAME="start_scene",e.CLICK_START="click_start",e}(r(o(2)).default);e.default=a},function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=puremvc.Mediator,u=r(o(9)),s=r(o(10)),c=r(o(0)),f=function(t){function e(o){var n=t.call(this,e.NAME,o)||this;return n.gameScene.on("init_complete",function(){n.sendNotification(s.default.CHECK)}),n.gameScene.on(u.default.CLICK_FRUIT,function(t){var e=t.row,o=t.col,i=t.value;n.sendNotification(s.default.ADD_FRUIT_STACK,{row:e,col:o,value:i})}),n}return i(e,t),e.prototype.listNotificationInterests=function(){return[c.default.ADD_FRUIT,c.default.DELETE_FRUIT,c.default.DROP_FRUIT,c.default.SWAP_FRUIT,c.default.CHANGE_SCORE]},e.prototype.handleNotification=function(t){console.log("GameSceneMediator notification:",t);var e=t.getName(),o=t.getBody(),n=t.getType();switch(e){case c.default.ADD_FRUIT:this.gameScene.addFruit(o);break;case c.default.DELETE_FRUIT:this.gameScene.deleteFruit(o);break;case c.default.DROP_FRUIT:this.gameScene.dropFruit(o);break;case c.default.SWAP_FRUIT:this.gameScene.swapFruit(o,n);break;case c.default.CHANGE_SCORE:this.gameScene.updateScore(o)}},Object.defineProperty(e.prototype,"gameScene",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),e.NAME="game_scene_mediator",e}(a);e.default=f},function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=PIXI.Container,u=PIXI.Graphics,s=PIXI.Sprite,c=PIXI.Text,f=r(o(2)),l=r(o(3)),d=r(o(13)),p=function(t){function e(e){var o=t.call(this,e)||this;return o.fruits={},o.scoreText=null,o.animalContainer=null,o}return i(e,t),e.prototype.init=function(e){var o=this;t.prototype.init.call(this,e),this.filters=[new PIXI.filters.GodrayFilter({alpha:.5})];var n=e.rows,i=e.cols,r=e.data,f=s.from("./resources/images/main_background.jpg");this.addChild(f);var d=new c("",{fill:16777215,fontSize:64});this.addChild(d),d.anchor.set(.5,.5),d.x=this.stageWidth/2,d.y=65,d.filters=[new PIXI.filters.GlowFilter({color:65390,distance:15,innerStrength:.1,outerStrength:2.5})],this.scoreText=d,this.updateScore(0);var p=new a;this.addChild(p),p.x=(this.stageWidth-i*l.default.GridWidth)/2,p.y=(this.stageHeight-n*l.default.GridHeight)/2,this.animalContainer=p;var h=new u;p.addChild(h);for(var _=0;_<n;_++)for(var y=0;y<i;y++){var m=y*l.default.GridWidth,v=_*l.default.GridHeight;h.beginFill(0,_%2==0?y%2==0?.6:.4:y%2!=0?.6:.4),h.moveTo(m,v),h.lineTo(m+l.default.GridWidth,v),h.lineTo(m+l.default.GridWidth,v+l.default.GridHeight),h.lineTo(m,v+l.default.GridHeight),h.closePath(),h.endFill(),this.addFruit({row:_,col:y,value:r[_][y],animate:{from:{x:i*l.default.GridWidth/2,y:0},to:{x:y*l.default.GridWidth+l.default.GridWidth/2,y:_*l.default.GridHeight+l.default.GridHeight/2}}})}setTimeout(function(){o.emit("init_complete")},1e3)},e.prototype.addFruit=function(t){var o=this;Array.isArray(t)||(t=[t]),t.forEach(function(t){var n=t.row,i=t.col,r=t.value,a=t.animate,u=new d.default(n,i,r);if(o.animalContainer.addChild(u),a){var s=a.from,c=a.to;window.TweenMax.fromTo([u],.3,s,c)}else u.x=i*l.default.GridWidth+l.default.GridWidth/2,u.y=n*l.default.GridHeight+l.default.GridHeight/2;u.on("pointerdown",function(t){u.filters=[new PIXI.filters.OutlineFilter(2,10092441)],o.emit(e.CLICK_FRUIT,t.currentTarget)}),o.fruits[n+"_"+i]=u})},e.prototype.swapFruit=function(t,e){var o=t[0],n=t[1],i=o.row,r=o.col,a=n.row,u=n.col,s=this.fruits[i+"_"+r],c=this.fruits[a+"_"+u];"success"===e?(s.setRowCol(a,u),c.setRowCol(i,r),this.fruits[i+"_"+r]=c,this.fruits[a+"_"+u]=s,setTimeout(function(){s.filters=[],c.filters=[]},300)):"fail"===e&&(s.rotation=-.05,c.rotation=-.05,window.TweenMax.to(s,.1,{rotation:.1,ease:window.Linear.easeNone,repeat:5,yoyo:!0}),window.TweenMax.to(c,.1,{rotation:.1,ease:window.Linear.easeNone,repeat:5,yoyo:!0}),setTimeout(function(){s.filters=[],c.filters=[]},300))},e.prototype.deleteFruit=function(t){var e=this,o=[];t.forEach(function(t){o.find(function(e){return t[0]===e[0]&&t[1]===e[1]})||o.push(t)}),o.forEach(function(t){var o=t[0],n=t[1],i=e.fruits[o+"_"+n];window.TweenMax.to(i.scale,1,{x:0,y:0,ease:"power1.inOut"}),window.TweenMax.to(i,1,{alpha:0,ease:"none"}),e.fruits[o+"_"+n]=null})},e.prototype.dropFruit=function(t){var e=this;for(var o in t)t[o].forEach(function(t){var o=t.row,n=t.col,i=t.drop,r=e.fruits[o+"_"+n];r.setRowCol(o+i,n),e.fruits[o+"_"+n]=null,e.fruits[o+i+"_"+n]=r})},e.prototype.updateScore=function(t){t<1e3?t="000"+t:t<100?t="00"+t:t<10&&(t="0"+t),this.scoreText.text="Score: "+t},e.NAME="game_scene",e.CLICK_FRUIT="click_fruit",e}(f.default);e.default=p},function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=puremvc.SimpleCommand,u=r(o(0)),s=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.execute=function(t){console.log("SceneCommand notification:",t);var o=t.getName(),n=t.getBody(),i=this.facade.retrieveProxy(u.default.NAME);switch(o){case e.ADD_FRUIT_STACK:i.addSwapFruit(n);break;case e.CHECK:i.map.check()}},e.ADD_FRUIT_STACK="add_fruit_stack",e.CHECK="check",e}(a);e.default=s},function(t,e,o){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(o(4));n(o(12)).default.getInstance(i.default.NAME).startup()},function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=puremvc.Facade,u=r(o(4)),s=r(o(1)),c=r(o(14)),f=function(t){function e(e){var o=t.call(this,e)||this;return o._game=null,o}return i(e,t),e.getInstance=function(t){return null==t?null:(null==a.instanceMap[t]&&(a.instanceMap[t]=new e(t)),a.instanceMap[t])},e.prototype.initializeModel=function(){t.prototype.initializeModel.call(this)},e.prototype.initializeView=function(){t.prototype.initializeView.call(this)},e.prototype.initializeController=function(){t.prototype.initializeController.call(this),this.registerCommand(e.STARTUP,c.default)},e.prototype.startup=function(){var t=document.documentElement.clientWidth||document.body.clientWidth,o=document.documentElement.clientHeight||document.body.clientHeight,n=o>t?o/t*640:t/o*640;this.game=new u.default({width:640,height:n,backgroundColor:1087931}),this.sendNotification(e.STARTUP,this.game),this.removeCommand(e.STARTUP),this.sendNotification(s.default.TO_LOADING,{from:null})},e.prototype.destory=function(){this.game&&(this.game.destroy(!0),this.game=null),window.TweenMax.killAll()},Object.defineProperty(e.prototype,"game",{get:function(){return this._game},set:function(t){this._game=t},enumerable:!0,configurable:!0}),e.STARTUP="startup",e.instance=null,e}(a);e.default=f},function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(o(3)),u=function(t){function e(e,o,n){var i=t.call(this)||this;i.text=null,i.row=null,i.col=null,i.value=null,i.row=e,i.col=o,i.value=n;var r=PIXI.Sprite.from("./resources/images/animal"+n+".png");i.addChild(r),r.anchor.set(.5);var a=new PIXI.Text("",{fontSize:10,fill:16777215});return i.addChild(a),a.anchor.set(.5,.5),i.text=a,i.buttonMode=!0,i.interactive=!0,i.update(),i}return i(e,t),e.prototype.setRowCol=function(t,e,o){void 0===o&&(o=!0),this.row=t,this.col=e,this.update();var n=e*a.default.GridWidth+a.default.GridWidth/2,i=t*a.default.GridHeight+a.default.GridHeight/2;o?window.TweenMax.to(this,.3,{x:n,y:i,ease:"none"}):(this.x=n,this.y=i)},e.prototype.update=function(){},e}(PIXI.Container);e.default=u},function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=puremvc.MacroCommand,u=r(o(15)),s=r(o(16)),c=r(o(18)),f=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.initializeMacroCommand=function(){this.addSubCommand(u.default),this.addSubCommand(s.default),this.addSubCommand(c.default)},e}(a);e.default=f},function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=puremvc.SimpleCommand,u=r(o(0)),s=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.execute=function(){this.facade.registerProxy(new u.default)},e}(a);e.default=s},function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=puremvc.SimpleCommand,u=r(o(7)),s=r(o(6)),c=r(o(17)),f=r(o(5)),l=r(o(9)),d=r(o(8)),p=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.execute=function(t){var e=t.getBody(),o=new c.default(e);this.facade.registerMediator(new f.default(o));var n=new u.default(e);this.facade.registerMediator(new s.default(n));var i=new l.default(e);this.facade.registerMediator(new d.default(i))},e}(a);e.default=p},function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(o(2)),u=PIXI.Text,s=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.init=function(){var t=new u("加载中...",{fill:"#FFFFFF"});this.addChild(t),t.anchor.set(.5,.5),t.x=this.stageWidth/2,t.y=this.stageHeight/2,this.emit("init_complete")},e.NAME="loading_scene",e}(a.default);e.default=s},function(t,e,o){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=puremvc.SimpleCommand,u=r(o(1)),s=r(o(10)),c=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.execute=function(){this.facade.registerCommand(u.default.TO_LOADING,u.default),this.facade.registerCommand(u.default.TO_START,u.default),this.facade.registerCommand(u.default.TO_GAME,u.default),this.facade.registerCommand(s.default.CHECK,s.default),this.facade.registerCommand(s.default.ADD_FRUIT_STACK,s.default)},e}(a);e.default=c}]);
//# sourceMappingURL=app.d54ccbb.js.map