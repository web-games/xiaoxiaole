!function(t){function e(t,e){this.setNotifyMethod(t),this.setNotifyContext(e)}function o(t,e,o){this.name=t,this.body=e,this.type=o}function n(){}function i(){}function r(){this.subCommands=[],this.initializeMacroCommand()}function p(t,e){this.mediatorName=t||this.constructor.NAME,this.viewComponent=e}function s(t,e){this.proxyName=t||this.constructor.NAME,null!=e&&this.setData(e)}function a(t){if(null!=a.instanceMap[t])throw Error(a.MULTITON_MSG);this.initializeNotifier(t),a.instanceMap[t]=this,this.initializeFacade()}function l(t){if(null!=l.instanceMap[t])throw Error(l.MULTITON_MSG);this.multitonKey=t,l.instanceMap[this.multitonKey]=this,this.mediatorMap=[],this.observerMap=[],this.initializeView()}function u(t){if(u.instanceMap[t])throw Error(u.MULTITON_MSG);this.multitonKey=t,u.instanceMap[t]=this,this.proxyMap=[],this.initializeModel()}function c(t){if(null!=c.instanceMap[t])throw Error(c.MULTITON_MSG);this.multitonKey=t,c.instanceMap[this.multitonKey]=this,this.commandMap=[],this.initializeController()}function y(t,e,o){t=t.split("."),o=o||h.global;for(var n,i,r=0,p=t.length;r<p;r++)n=o,o=null==o[i=t[r]]?o[i]={}:o[i];return null==e?o:n[i]=e}if(null==t&&(t=window),!t.puremvc){e.prototype.setNotifyMethod=function(t){this.notify=t},e.prototype.setNotifyContext=function(t){this.context=t},e.prototype.getNotifyMethod=function(){return this.notify},e.prototype.getNotifyContext=function(){return this.context},e.prototype.notifyObserver=function(t){this.getNotifyMethod().call(this.getNotifyContext(),t)},e.prototype.compareNotifyContext=function(t){return t===this.context},e.prototype.notify=null,e.prototype.context=null,o.prototype.getName=function(){return this.name},o.prototype.setBody=function(t){this.body=t},o.prototype.getBody=function(){return this.body},o.prototype.setType=function(t){this.type=t},o.prototype.getType=function(){return this.type},o.prototype.toString=function(){return"Notification Name: "+this.getName()+"\nBody:"+(null==this.body?"null":this.body.toString())+"\nType:"+(null==this.type?"null":this.type)},o.prototype.name=null,o.prototype.type=null,o.prototype.body=null,n.prototype.sendNotification=function(t,e,o){var n=this.getFacade();n&&n.sendNotification(t,e,o)},n.prototype.initializeNotifier=function(t){this.multitonKey=""+t,this.facade=this.getFacade()},n.prototype.getFacade=function(){if(null==this.multitonKey)throw Error(n.MULTITON_MSG);return a.getInstance(this.multitonKey)},n.prototype.multitonKey=null,n.MULTITON_MSG="multitonKey for this Notifier not yet initialized!",i.prototype=new n,i.prototype.constructor=i,i.prototype.execute=function(){},r.prototype=new n,r.prototype.constructor=r,r.prototype.subCommands=null,r.prototype.initializeMacroCommand=function(){},r.prototype.addSubCommand=function(t){this.subCommands.push(t)},r.prototype.execute=function(t){for(;0<this.subCommands.length;){var e=new(this.subCommands.shift());e.initializeNotifier(this.multitonKey),e.execute(t)}},p.NAME="Mediator",p.prototype=new n,p.prototype.constructor=p,p.prototype.getMediatorName=function(){return this.mediatorName},p.prototype.setViewComponent=function(t){this.viewComponent=t},p.prototype.getViewComponent=function(){return this.viewComponent},p.prototype.listNotificationInterests=function(){return[]},p.prototype.handleNotification=function(){},p.prototype.onRegister=function(){},p.prototype.onRemove=function(){},p.prototype.mediatorName=null,p.prototype.viewComponent=null,s.NAME="Proxy",s.prototype=new n,s.prototype.constructor=s,s.prototype.getProxyName=function(){return this.proxyName},s.prototype.setData=function(t){this.data=t},s.prototype.getData=function(){return this.data},s.prototype.onRegister=function(){},s.prototype.onRemove=function(){},s.prototype.proxyName=null,s.prototype.data=null,a.prototype.initializeFacade=function(){this.initializeModel(),this.initializeController(),this.initializeView()},a.getInstance=function(t){return null==t?null:(null==a.instanceMap[t]&&(a.instanceMap[t]=new a(t)),a.instanceMap[t])},a.prototype.initializeController=function(){null==this.controller&&(this.controller=c.getInstance(this.multitonKey))},a.prototype.initializeModel=function(){null==this.model&&(this.model=u.getInstance(this.multitonKey))},a.prototype.initializeView=function(){null==this.view&&(this.view=l.getInstance(this.multitonKey))},a.prototype.registerCommand=function(t,e){this.controller.registerCommand(t,e)},a.prototype.removeCommand=function(t){this.controller.removeCommand(t)},a.prototype.hasCommand=function(t){return this.controller.hasCommand(t)},a.prototype.registerProxy=function(t){this.model.registerProxy(t)},a.prototype.retrieveProxy=function(t){return this.model.retrieveProxy(t)},a.prototype.removeProxy=function(t){var e=null;return null!=this.model&&(e=this.model.removeProxy(t)),e},a.prototype.hasProxy=function(t){return this.model.hasProxy(t)},a.prototype.registerMediator=function(t){null!=this.view&&this.view.registerMediator(t)},a.prototype.retrieveMediator=function(t){return this.view.retrieveMediator(t)},a.prototype.removeMediator=function(t){var e=null;return null!=this.view&&(e=this.view.removeMediator(t)),e},a.prototype.hasMediator=function(t){return this.view.hasMediator(t)},a.prototype.sendNotification=function(t,e,n){this.notifyObservers(new o(t,e,n))},a.prototype.notifyObservers=function(t){null!=this.view&&this.view.notifyObservers(t)},a.prototype.initializeNotifier=function(t){this.multitonKey=t},a.hasCore=function(t){return null!=a.instanceMap[t]},a.removeCore=function(t){null!=a.instanceMap[t]&&(u.removeModel(t),l.removeView(t),c.removeController(t),delete a.instanceMap[t])},a.prototype.controller=null,a.prototype.model=null,a.prototype.view=null,a.prototype.multitonKey=null,a.instanceMap=[],a.MULTITON_MSG="Facade instance for this Multiton key already constructed!",l.prototype.initializeView=function(){},l.getInstance=function(t){return null==t?null:(null==l.instanceMap[t]&&(l.instanceMap[t]=new l(t)),l.instanceMap[t])},l.prototype.registerObserver=function(t,e){null!=this.observerMap[t]?this.observerMap[t].push(e):this.observerMap[t]=[e]},l.prototype.notifyObservers=function(t){if(null!=this.observerMap[t.getName()]){for(var e,o=this.observerMap[t.getName()],n=[],i=0;i<o.length;i++)e=o[i],n.push(e);for(i=0;i<n.length;i++)(e=n[i]).notifyObserver(t)}},l.prototype.removeObserver=function(t,e){for(var o=this.observerMap[t],n=0;n<o.length;n++)if(1==o[n].compareNotifyContext(e)){o.splice(n,1);break}0==o.length&&delete this.observerMap[t]},l.prototype.registerMediator=function(t){if(null==this.mediatorMap[t.getMediatorName()]){t.initializeNotifier(this.multitonKey),this.mediatorMap[t.getMediatorName()]=t;var o=t.listNotificationInterests();if(0<o.length)for(var n=new e(t.handleNotification,t),i=0;i<o.length;i++)this.registerObserver(o[i],n);t.onRegister()}},l.prototype.retrieveMediator=function(t){return this.mediatorMap[t]},l.prototype.removeMediator=function(t){var e=this.mediatorMap[t];if(e){for(var o=e.listNotificationInterests(),n=0;n<o.length;n++)this.removeObserver(o[n],e);delete this.mediatorMap[t],e.onRemove()}return e},l.prototype.hasMediator=function(t){return null!=this.mediatorMap[t]},l.removeView=function(t){delete l.instanceMap[t]},l.prototype.mediatorMap=null,l.prototype.observerMap=null,l.instanceMap=[],l.prototype.multitonKey=null,l.MULTITON_MSG="View instance for this Multiton key already constructed!",u.prototype.initializeModel=function(){},u.getInstance=function(t){return null==t?null:(null==u.instanceMap[t]&&(u.instanceMap[t]=new u(t)),u.instanceMap[t])},u.prototype.registerProxy=function(t){t.initializeNotifier(this.multitonKey),this.proxyMap[t.getProxyName()]=t,t.onRegister()},u.prototype.retrieveProxy=function(t){return this.proxyMap[t]},u.prototype.hasProxy=function(t){return null!=this.proxyMap[t]},u.prototype.removeProxy=function(t){var e=this.proxyMap[t];return e&&(this.proxyMap[t]=null,e.onRemove()),e},u.removeModel=function(t){delete u.instanceMap[t]},u.prototype.proxyMap=null,u.instanceMap=[],u.MULTITON_MSG="Model instance for this Multiton key already constructed!",c.prototype.initializeController=function(){this.view=l.getInstance(this.multitonKey)},c.getInstance=function(t){return null==t?null:(null==this.instanceMap[t]&&(this.instanceMap[t]=new this(t)),this.instanceMap[t])},c.prototype.executeCommand=function(t){var e=this.commandMap[t.getName()];null!=e&&((e=new e).initializeNotifier(this.multitonKey),e.execute(t))},c.prototype.registerCommand=function(t,o){null==this.commandMap[t]&&this.view.registerObserver(t,new e(this.executeCommand,this)),this.commandMap[t]=o},c.prototype.hasCommand=function(t){return null!=this.commandMap[t]},c.prototype.removeCommand=function(t){this.hasCommand(t)&&(this.view.removeObserver(t,this),this.commandMap[t]=null)},c.removeController=function(t){delete this.instanceMap[t]},c.prototype.view=null,c.prototype.commandMap=null,c.prototype.multitonKey=null,c.instanceMap=[],c.MULTITON_MSG="controller key for this Multiton key already constructed";var h={global:function(){return this}(),extend:function(t,e){if("function"!=typeof t)throw new TypeError("#extend- child should be Function");if("function"!=typeof e)throw new TypeError("#extend- parent should be Function");if(e!==t){var o=new Function;return o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t}},decorate:function(t,e){for(var o in e)t[o]=e[o];return t}};t.puremvc={View:l,Model:u,Controller:c,SimpleCommand:i,MacroCommand:r,Facade:a,Mediator:p,Observer:e,Notification:o,Notifier:n,Proxy:s,define:function(t,e,o){t||(t={});var n=t.name,i=t.parent,r="function"==typeof i,p=t.scope||null;if("parent"in t&&!r)throw new TypeError("Class parent must be Function");if(t.hasOwnProperty("constructor")){if("function"!=typeof(t=t.constructor))throw new TypeError("Class constructor must be Function")}else t=r?function(){i.apply(this,arguments)}:new Function;if(r&&h.extend(t,i),e&&(r=t.prototype,h.decorate(r,e),r.constructor=t),o&&h.decorate(t,o),n){if("string"!=typeof n)throw new TypeError("Class name must be primitive string");y(n,t,p)}return t},declare:y}}}(this);